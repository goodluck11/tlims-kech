<tlims-content>
  <div class="d-flex justify-content-center">
    <form novalidate [formGroup]="registerForm">
      <div class="card mb-0">
        <div class="card-body">
          <ng-container *ngIf="!isSuccess">
            <div class="mb-3">
              <h1 class="font-weight-semibold">{{'app.core.signup' | translate}}</h1>
              <span class="d-block text-danger">* {{'app.core.fieldsrequired' | translate}}</span>
            </div>

            <div class="form-group text-center text-muted content-divider">
              <span class="px-2">{{'app.core.contact' | translate}}</span>
            </div>

            <div class="row">
              <div class="col-md-6">
                <tlims-form-group label="{{'app.core.firstName' | translate}}" required="true">
                  <input tlimsInput [placeholder]="'app.core.firstName' | translate" formControlName="firstName" (change)="buildDisplayName()">
                  <tlims-form-error [control]="registerForm.get('firstName')"></tlims-form-error>
                </tlims-form-group>
              </div>
              <div class="col-md-6">
                <tlims-form-group label="{{'app.core.lastName' | translate}}" required="true">
                  <input tlimsInput [placeholder]="'app.core.lastName' | translate" formControlName="lastName" (change)="buildDisplayName()">
                  <tlims-form-error [control]="registerForm.get('lastName')"></tlims-form-error>
                </tlims-form-group>
              </div>
              <div class="col-md-6">
                <tlims-form-group label="{{'app.core.displayName' | translate}}">
                  <input tlimsInput [placeholder]="'app.core.displayName' | translate" formControlName="displayName" (change)="buildDisplayName()">
                </tlims-form-group>
              </div>
              <div class="col-md-6">
                <tlims-form-group label="{{'app.core.phonenumber' | translate}}">
                  <input tlimsInput [placeholder]="'app.core.phonenumber' | translate" formControlName="phoneNumber">
                </tlims-form-group>
              </div>
            </div>

            <div class="form-group text-center text-muted content-divider">
              <span class="px-2">{{'app.core.credentials' | translate}}</span>
            </div>
            <div class="row">
              <div class="col-md-6">
                <tlims-form-group label="{{'app.core.email' | translate}}" required="true">
                  <input type="email" tlimsInput [placeholder]="'app.core.email' | translate" formControlName="email">
                  <tlims-form-error [control]="registerForm.get('email')"></tlims-form-error>
                </tlims-form-group>
              </div>
              <div class="col-md-6">
                <tlims-form-group label="{{'app.core.password' | translate}}" required="true">
                  <input type="password" tlimsInput [placeholder]="'app.core.password' | translate" formControlName="password">
                  <tlims-form-error [control]="registerForm.get('password')"></tlims-form-error>
                </tlims-form-group>
              </div>
            </div>

            <div class="form-group">
              <div class="custom-control custom-checkbox">
                <input type="checkbox" class="custom-control-input" id="subscribe" required>
                <label class="custom-control-label" for="subscribe">{{'app.core.subscribenewsletter' | translate}}</label>
              </div>
              <div class="custom-control custom-checkbox">
                <input type="checkbox" class="custom-control-input" id="accept" required>
                <label class="custom-control-label" for="accept">{{'app.core.accept' | translate}} <a href="#">{{'app.core.termsofservice' | translate}}</a></label>
              </div>
            </div>
            <div class="form-group">
              <button type="button" [tlimsButton]="isLoading" (click)="register()" class="btn-block" translate>app.core.register</button>
            </div>

            <tlims-divider>{{'app.core.alreadyhaveaccount' | translate}}?</tlims-divider>

            <div class="form-group">
              <a routerLink="/tlims/sign-in" class="btn btn-warning btn-block">{{'app.core.signin' | translate}}</a>
            </div>
          </ng-container>

          <ng-container *ngIf="isSuccess">
            <div class="alert alert-success">
              Account successfully created. You can start posting Ads by verifying your email account through a link sent to {{userEmail}}.
            </div>
          </ng-container>
        </div>
      </div>
    </form>
  </div>
</tlims-content>

